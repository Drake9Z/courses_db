CREATE TABLE "courses" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "course_title" varchar(30) NOT NULL,
  "course_description" varchar(70) NOT NULL,
  "level_id" int NOT NULL,
  "category_id" int NOT NULL,
  "teacher_id" int NOT NULL
);

CREATE TABLE "levels" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "level" varchar(10) NOT NULL
);

CREATE TABLE "categories" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "category" varchar(10) UNIQUE NOT NULL
);

CREATE TABLE "courses_per_student" (
  "cps_id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "course_id" int NOT NULL,
  "student_id" int NOT NULL
);

CREATE TABLE "videos" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "title" varchar(30) UNIQUE NOT NULL,
  "url" varchar(50) UNIQUE NOT NULL,
  "course_id" int NOT NULL
);

CREATE TABLE "users" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "name" varchar(50) NOT NULL,
  "email" varchar(30) UNIQUE NOT NULL,
  "password" varchar(12),
  "age" int NOT NULL,
  "role_id" int NOT NULL
);

CREATE TABLE "roles" (
  "id" INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  "role" varchar(10) UNIQUE NOT NULL
);

ALTER TABLE "levels" ADD FOREIGN KEY ("id") REFERENCES "courses" ("level_id");

ALTER TABLE "categories" ADD FOREIGN KEY ("id") REFERENCES "courses" ("category_id");

ALTER TABLE "users" ADD FOREIGN KEY ("id") REFERENCES "courses" ("teacher_id");

ALTER TABLE "courses_per_student" ADD FOREIGN KEY ("course_id") REFERENCES "courses" ("id");

ALTER TABLE "courses_per_student" ADD FOREIGN KEY ("student_id") REFERENCES "users" ("id");

ALTER TABLE "videos" ADD FOREIGN KEY ("course_id") REFERENCES "courses" ("id");

ALTER TABLE "roles" ADD FOREIGN KEY ("id") REFERENCES "users" ("role_id");


CREATE DATABASE courses2_db;

INSERT INTO roles (role)
VALUES
    ('studen'),
    ('teacher'),
    ('admin');

INSERT INTO levels (level)
VALUES
    ('beginner'),
    ('medium'),
    ('advaced');

INSERT INTO categories (category)
VALUES
    ('Frontend'),
    ('Backend'),
    ('Design');

INSERT INTO users (name, email, password, age, role_id)
VALUES 
    ('Freddy', 'freddy0r45@gmail.com', 'gamora200', 35, 1),
    ('Juan', 'juan@gmail.com', 'ImGroot', 25, 1),
    ('Diego', 'diego84@gmail.com', 'ironheart', 23, 1),
    ('Romano', 'rommano321@outlook.com', 'gravity321', 34, 2),
    ('Felix', 'felix23@outlook.com', 'mazon4ever', 39, 2),
    ('Petter', 'stonepitt97@hotmail.com', 'bugskiller7', 39, 3);



INSERT INTO videos (title, url, course_id)
VALUES 
    ('NodeJs V1', 'https://academlo.com/clases/node-1', 2),
    ('NodeJs V2', 'https://academlo.com/clases/node-2', 2),
    ('Asincronismo V1', 'https://academlo.com/clases/asincronismo-1', 3),
    ('Asincronismo V2', 'https://academlo.com/clases/asincronismo-2', 3),
    ('Git II V1', 'https://academlo.com/clases/git-1', 4),
    ('Git II V2', 'https://academlo.com/clases/git-2', 4),
    ('Figma II V1', 'https://academlo.com/clases/figmaII-1', 5),
    ('Figma II V2', 'https://academlo.com/clases/figmaII-2', 5),
    ('Photoshop III V1', 'https://academlo.com/clases/photoshop-1', 6),
    ('Photoshop III V2', 'https://academlo.com/clases/photoshop-2', 6);

INSERT INTO courses (course_title, course_description, level_id, category_id, teacher_id)
VALUES 
    ('Animaciones con CSS', 'learn how to use tranform, translate and animation propieties', 1, 1, 4),
    ('Introduction to NodeJs', 'Introduction to data base and node Js', 2, 2, 4),
    ('Asincronism with Js', 'learn how to manipulate the flow with async await', 3, 2, 5),
    ('Git II', 'create, clone and more with a repository system', 2, 2, 4),
    ('Figma II', 'Learn the importance of layout', 2, 3, 5),
    ('Photoshop III', 'Lear new filters and perspective en 3D', 3, 3, 5);

INSERT INTO videos (title, url, course_id)
VALUES 
    ('Animaciones con CSS V1', 'https://academlo.com/clases/animaciones-1', 1),
    ('Animaciones con CSS V2', 'https://academlo.com/clases/animaciones-2', 1),
    ('NodeJs V1', 'https://academlo.com/clases/node-1', 2),
    ('NodeJs V2', 'https://academlo.com/clases/node-2', 2),
    ('Asincronismo V1', 'https://academlo.com/clases/asincronismo-1', 3),
    ('Asincronismo V2', 'https://academlo.com/clases/asincronismo-2', 3),
    ('Git II V1', 'https://academlo.com/clases/git-1', 4),
    ('Git II V2', 'https://academlo.com/clases/git-2', 4),
    ('Figma II V1', 'https://academlo.com/clases/figmaII-1', 5),
    ('Figma II V2', 'https://academlo.com/clases/figmaII-2', 5),
    ('Photoshop III V1', 'https://academlo.com/clases/photoshop-1', 6),
    ('Photoshop III V2', 'https://academlo.com/clases/photoshop-2', 6);

INSERT INTO courses_per_student (course_id, student_id)
VALUES 
    (1, 1), (3, 1), (4, 2), (6, 2), (5, 3), (2, 3);

SELECT * FROM roles;
SELECT * FROM levels;
SELECT * FROM categories;
SELECT * FROM users;
SELECT * FROM courses;
SELECT * FROM videos;
SELECT * FROM courses_per_student;

